(()=>{"use strict";class e{constructor(e,t){this.props=e,this.state={},this.renderElement=t,this.render=()=>this.renderElement,this.setState=e=>{let t=!1;Object.entries(e).forEach((([e,s])=>{this.state[e]!==s&&(t=!0),this.state[e]=s})),t&&this.render()}}}class t extends e{constructor(e,t){super(e,t),this.state={beingPressed:!1}}}class s extends e{constructor(e,s){super(e,s),this.state={converted:!1,shifted:!1};const r={Key1:["1","1","1","1"],Key2:["2","2","2","2"],Key3:["3","3","3","3"],Key4:["4","4","4","4"],Key5:["5","5","5","5"],Key6:["6","6","6","6"],Key7:["7","7","7","7"],Key8:["8","8","8","8"],Key9:["9","9","9","9"],Key0:["0","0","0","0"],KeyQ:["q","Q","%","`"],KeyW:["w","W","\\","•"],KeyE:["e","E","|","√"],KeyR:["r","R","=","^"],KeyT:["t","T","[","π"],KeyY:["y","Y","]","∆"],KeyU:["u","U","<","¶"],KeyI:["i","I",">","°"],KeyO:["o","O","{","©"],KeyP:["p","P","}","®"],KeyA:["a","A","@","£"],KeyS:["s","S","#","$"],KeyD:["d","D","~","€"],KeyF:["f","F","_","¥"],KeyG:["g","G","&","§"],KeyH:["h","H","-","¬"],KeyJ:["j","J","+","†"],KeyK:["k","K","(","✓"],KeyL:["l","L",")","™"],KeyZ:["z","Z","*","←"],KeyX:["x","X",'"',"→"],KeyC:["c","C","'","↑"],KeyV:["v","V",":","↓"],KeyB:["b","B",";","±"],KeyN:["n","N","!","µ"],KeyM:["m","M","/","※"],Comma:[",",",",",",","],QuestionMark:["?","?","?","?"],Period:[".",".",".","."]},n=["Key1","Key2","Key3","Key4","Key5","Key6","Key7","Key8","Key9","Key0","KeyQ","KeyW","KeyE","KeyR","KeyT","KeyY","KeyU","KeyI","KeyO","KeyP","KeyA","KeyS","KeyD","KeyF","KeyG","KeyH","KeyJ","KeyK","KeyL","Caps","KeyZ","KeyX","KeyC","KeyV","KeyB","KeyN","KeyM","Backspace","Convert","Comma","QuestionMark","Space","Period","Submit"].map((e=>new t({},document.getElementById(e)))),y=()=>{this.setState({converted:!this.state.converted,shifted:!1})},K=()=>{this.setState({converted:this.state.converted,shifted:!this.state.shifted})},a=e=>{switch(window.navigator.vibrate(40),e){case"Caps":K();break;case"Backspace":this.props.onErase&&this.props.onErase();break;case"Convert":y();break;case"Submit":this.props.onSubmit&&this.props.onSubmit();break;case"Space":this.props.onType&&this.props.onType(" ");break;default:if(r[e]&&this.props.onType){let t=0;this.state.converted&&(t+=2),this.state.shifted&&(t+=1),this.props.onType(r[e][t])}}};this.renderElement.addEventListener("click",(e=>{"BUTTON"===e.target.tagName&&a(e.target.id)})),this.render=()=>{let e=0;return this.state.converted&&(e+=2),this.state.shifted&&(e+=1),n.forEach((t=>{r[t.renderElement.id]&&(t.renderElement.textContent=r[t.renderElement.id][e])})),this.renderElement}}}class r extends e{constructor(e,t){super(e,t),this.state={text:""},this.getMessage=()=>this.state.text,this.render=()=>(this.renderElement.textContent=this.state.text,this.renderElement)}}new class extends e{constructor(e,t){super(e,t);const n=new r({},document.getElementById("InputMessage"));n.render(),new s({onType:e=>{const t=n.getMessage()+e;n.setState({text:t})},onErase:()=>{const e=n.getMessage(),t=e.slice(0,e.length-1);n.setState({text:t})},onSubmit:()=>{const e=n.getMessage();alert(e)}},document.querySelector(".Keyboard"))}}({},document.body)})();